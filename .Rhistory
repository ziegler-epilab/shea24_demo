ggplot(., aes(long, lat, group = group)) +
geom_polygon(aes(fill = level),
colour = alpha("white", 1/2), size = 0.05)  +
geom_polygon(data = states, colour = "black", fill = NA) +
scale_fill_gradientn(colours = terrain.colors(6))  +
theme_void() +
transition_time(week) +
labs(title = 'Respiratory Infection Activity 22-23 Season: Week {frame_time}') +
theme_minimal()
gif_a <- animate(gif_a, width = 350, height = 240)
gif_b <- region_dat_respi %>%
#filter(!is.na(value)) %>%
ggplot(data = ., aes(y = level)) + geom_boxplot() +
labs(x = "", title = "National Value") +
theme(axis.text.x = element_blank()) +
transition_time(week)
#enter_fade() +
#exit_shrink() +
#ease_aes('sine-in-out')
gif_b <- animate(gif_b, width = 300, height = 240)
a_mgif <- image_read(gif_a)
b_mgif <- image_read(gif_b)
new_gif <- image_append(c(a_mgif[1], b_mgif[1]))
for(i in 1:95){
combined <- image_append(c(a_mgif[i], b_mgif[i]))
new_gif <- c(new_gif, combined)
}
new_gif
install.packages("TidyR")
install.packages("formatR")
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE)
new_gif
new_gif
new_gif
new_gif
new_gif
new_gif
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
citations()
devtools::session_info()
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
library(dplyr)
library(ggplot2)
library(gt)
dat_cdiff <- read.csv("/Users/mattz/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)",
series =="Community-associated"|series=="Healthcare-associated")
head(dat_cdiff) %>%
gt()
dat_cdiff_line_plot <- dat_cdiff %>%
ggplot(aes(x = as.factor(year_name), y = value, group = series)) +
geom_line(aes(linetype = series)) +
labs(title = "Cases by year", y = "CDI cases per 1000 individuals", x = "Year")
dat_cdiff_line_plot <- dat_cdiff %>%
ggplot(aes(x = as.factor(year_name), y = value, group = series)) +
geom_line(aes(linetype = series)) +
labs(title = "Cases by year", y = "CDI cases per 1000 individuals", x = "Year")
devtools::session_info()
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
devtools::session_info()
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
devtools::session_info()
#devtools::session_info()
citation("base")
citation("ggplot2")
#devtools::session_info()
citation("base")
citation("ggplot2", "gt")
#devtools::session_info()
citation("base")
citation("ggplot2")
citation("gt")
citation("dplyr")
citation("tidyr")
citation("gghighlight")
citation("magick")
citation("gganimate")
citation("maps")
citation("gtsummary")
citation("marginaleffects")
#devtools::session_info()
# citation("base")
# citation("ggplot2")
# citation("gt")
# citation("dplyr")
citation("tidyr")
# citation("gghighlight")
citation("magick")
# citation("gganimate")
citation("maps")
# citation("gtsummary")
# citation("marginaleffects")
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
dat_cdiff_cat_plot %>%
gt()
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
library(dplyr)
library(ggplot2)
library(gt)
dat_cdiff <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)",
series =="Community-associated"|series=="Healthcare-associated")
head(dat_cdiff) %>%
gt()
dat_cdiff_line_plot <- dat_cdiff %>%
ggplot(aes(x = as.factor(year_name), y = value, group = series)) +
geom_line(aes(linetype = series)) +
labs(title = "Cases by year", y = "CDI cases per 1000 individuals", x = "Year")
dat_cdiff_line_plot
dat_cdiff %>%
ggplot(aes(x = as.factor(year_name), y = value, fill= series)) +
geom_col(position = "dodge") +
labs(title = "Cases by year", y = "CDI cases per 1000 individuals", x = "Year")
library(tidyr)
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("category","group"), sep =" - ") %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, category),linetype = category, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
dat_cdiff_cat_plot %>%
gt()
dat_cdiff_cat_plot %>%
head() %>%
gt()
library(gt)
dat_cdiff_cat_plot %>%
head() %>%
gt()
library(gt)
dat_cdiff_cat_plot %>%
head() %>%
gt()
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("category","group"), sep =" - ")
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, category),linetype = category, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
library(gt)
dat_cdiff_cat_plot %>%
head() %>%
gt()
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
select(-grouping) %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("category","group"), sep =" - ") %>%
rename(description = topic)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, category),linetype = category, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
library(gt)
dat_cdiff_cat_plot %>%
head() %>%
gt()
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("cat_value","group"), sep =" - ") %>%
rename(description = topic) %>%
select(year_name, value, description, cat, cat_value, group)
library(gt)
dat_cdiff_cat_plot %>%
head() %>%
gt()
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("group","cat_value"), sep =" - ") %>%
rename(description = topic) %>%
select(year_name, value, description, cat, cat_value, group)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, category),linetype = category, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("group","cat_value"), sep =" - ") %>%
rename(description = topic) %>%
select(year_name, value, description, cat, cat_value, group)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(cat_value, group),linetype = category, col = cat_value,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(cat_value, group),linetype = category, col = cat_value)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("category","group"), sep =" - ") %>%
rename(description = topic) %>%
select(year_name, value, description, cat, cat_value, group)
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(cat = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(cat)) %>%
separate(series, into = c("category","group"), sep =" - ") %>%
rename(description = topic)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, category),linetype = category, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(cat)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(class = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(class)) %>%
separate(series, into = c("category","group"), sep =" - ") %>%
rename(description = topic)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, category),linetype = category, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(class)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
library(gt)
dat_cdiff_cat_plot %>%
head() %>%
gt()
library(gt)
dat_cdiff_cat_plot %>%
select(year_name, value, description, class, category, group) %>%
head() %>%
gt()
?slice
library(gt)
dat_cdiff_cat_plot %>%
select(year_name, value, description, class, category, group) %>%
slice_sample(n=10) %>%
gt()
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(class = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(class)) %>%
separate(series, into = c("onset","group"), sep =" - ") %>%
rename(description = topic)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, onset),linetype = onset, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(class)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
library(gt)
dat_cdiff_cat_plot %>%
select(year_name, value, description, class, onset, group) %>%
slice_sample(n=10) %>%
gt()
vaccination %>%
head() %>%
gt()
library(magick)
library(gganimate)
library(maps)
library(tidyr)
respi <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/Outpatient_Respiratory_Illness_Activity_Map_20240401.csv") %>%
janitor::clean_names() %>%
mutate(region = tolower(state)) %>%
separate(activity_level, into=c(NA, "level"), sep = " ") %>%
mutate(level = as.numeric(level)) %>%
filter(season =="2022-2023")
states <- map_data("state")
region_dat_respi <- left_join(states, respi, by = "region")
View(region_dat_respi)
region_dat_respi %>%
select(region, season, week, level, activity_level_label, long, lat) %>%
slice_sample(n=10) %>%
gt()
install.packages("magick")
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo = TRUE, tidy=TRUE, dpi = 300)
library(dplyr)
library(ggplot2)
library(gt)
dat_cdiff <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)",
series =="Community-associated"|series=="Healthcare-associated")
head(dat_cdiff) %>%
gt()
dat_cdiff_line_plot <- dat_cdiff %>%
ggplot(aes(x = as.factor(year_name), y = value, group = series)) +
geom_line(aes(linetype = series)) +
labs(title = "Cases by year", y = "CDI cases per 1000 individuals", x = "Year")
dat_cdiff_line_plot
dat_cdiff %>%
ggplot(aes(x = as.factor(year_name), y = value, fill= series)) +
geom_col(position = "dodge") +
labs(title = "Cases by year", y = "CDI cases per 1000 individuals", x = "Year")
library(tidyr)
dat_cdiff_cat_plot <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_CDI_20240214.csv") %>%
janitor::clean_names() %>%
filter(topic =="Case rates (cases per 100,000)") %>%
mutate(class = case_when(
grepl("HA|CA", series) ==TRUE & grepl("years", series) ==TRUE  ~ "age",
grepl("Male|Female", series) ==TRUE & grepl("HA|CA", series) ==TRUE  ~ "sex",
grepl("White|Non-white", series) ==TRUE & grepl("HA|CA", series) ==TRUE ~ "race")) %>%
filter(!is.na(class)) %>%
separate(series, into = c("onset","group"), sep =" - ") %>%
rename(description = topic)
dat_cdiff_cat_plot %>%
ggplot(aes(x = as.factor(year_name), y = value,
group = interaction(group, onset),linetype = onset, col = group,)) +
geom_line(lwd =1) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
facet_wrap(vars(class)) +
labs(title = "C.difficile Infection by Year", y = "Case rates (cases per 100,000)", x = "Year")
library(gt)
dat_cdiff_cat_plot %>%
select(year_name, value, description, class, onset, group) %>%
slice_sample(n=10) %>%
gt()
library(gghighlight)
dat_mdrgn <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/HAICViz_-_MuGSI_20240330.csv") %>%
janitor::clean_names() %>%
mutate(keep = case_when(
viewby =="Organism" & series != "All cases"  ~ 1,
organism =="CRAB" & viewby == "All cases" & topic =="Case Rates" ~ 1,
TRUE ~ 0
)) %>%
filter(keep ==1) %>%
mutate(series = ifelse(organism =="CRAB","Acinetobacter baumanii", series)) %>%
select(-organism) %>%
rename(organism = series)
dat_mdrgn_plot <- dat_mdrgn %>%
ggplot(aes(x = as.factor(year_name), y = value, group = organism)) +
geom_line(aes(linetype = organism)) +
theme(axis.text.x = element_text(angle = 75, vjust = 0, hjust=0)) +
labs(title = "Cases by year - Carbapenem-Resistant GNB",
y = "Cases per 1000 individuals", x = "Year") +
gghighlight(organism =="Acinetobacter baumanii") +
theme_minimal()
dat_mdrgn %>%
select(-keep) %>%
slice_sample(n=10) %>%
gt()
library(magick)
library(gganimate)
library(maps)
library(tidyr)
respi <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/Outpatient_Respiratory_Illness_Activity_Map_20240401.csv") %>%
janitor::clean_names() %>%
mutate(region = tolower(state)) %>%
separate(activity_level, into=c(NA, "level"), sep = " ") %>%
mutate(level = as.numeric(level)) %>%
filter(season =="2022-2023")
states <- map_data("state")
region_dat_respi <- left_join(states, respi, by = "region")
region_dat_respi %>%
select(region, season, week, level, activity_level_label, long, lat) %>%
slice_sample(n=10) %>%
gt()
gif_a <- region_dat_respi %>%
ggplot(., aes(long, lat, group = group)) +
geom_polygon(aes(fill = level),
colour = alpha("white", 1/2), size = 0.05)  +
geom_polygon(data = states, colour = "black", fill = NA) +
scale_fill_gradientn(colours = terrain.colors(6))  +
theme_void() +
transition_time(week) +
labs(title = 'Respiratory Infection Activity 22-23 Season: Week {frame_time}') +
theme_minimal()
gif_a <- animate(gif_a, width = 700, height = 480)
library(magick)
library(gganimate)
library(maps)
library(tidyr)
respi <- read.csv("/Users/matthewziegler/Documents/GitHub/shea24_demo/Outpatient_Respiratory_Illness_Activity_Map_20240401.csv") %>%
janitor::clean_names() %>%
mutate(region = tolower(state)) %>%
separate(activity_level, into=c(NA, "level"), sep = " ") %>%
mutate(level = as.numeric(level)) %>%
filter(season =="2022-2023")
states <- map_data("state")
region_dat_respi <- left_join(states, respi, by = "region")
region_dat_respi %>%
select(region, season, week, level, activity_level_label, long, lat) %>%
slice_sample(n=10) %>%
gt()
gif_a <- region_dat_respi %>%
ggplot(., aes(long, lat, group = group)) +
geom_polygon(aes(fill = level),
colour = alpha("white", 1/2), size = 0.05)  +
geom_polygon(data = states, colour = "black", fill = NA) +
scale_fill_gradientn(colours = terrain.colors(6))  +
theme_void() +
transition_time(week) +
labs(title = 'Respiratory Infection Activity 22-23 Season: Week {frame_time}') +
theme_minimal()
gif_a <- animate(gif_a, width = 700, height = 480)
gif_b <- region_dat_respi %>%
#filter(!is.na(value)) %>%
ggplot(data = ., aes(y = level)) + geom_boxplot() +
labs(x = "", title = "National Value") +
theme(axis.text.x = element_blank()) +
transition_time(week)
#enter_fade() +
#exit_shrink() +
#ease_aes('sine-in-out')
gif_b <- animate(gif_b, width = 600, height = 480)
a_mgif <- image_read(gif_a)
a_mgif <- magick::image_read(gif_a)
a_mgif <- image_read(gif_a)
print(gif_a)
print(gif_b)
a_mgif <- image_read(gif_a)
version
?animate
gif_a <- region_dat_respi %>%
ggplot(., aes(long, lat, group = group)) +
geom_polygon(aes(fill = level),
colour = alpha("white", 1/2), size = 0.05)  +
geom_polygon(data = states, colour = "black", fill = NA) +
scale_fill_gradientn(colours = terrain.colors(6))  +
theme_void() +
transition_time(week) +
labs(title = 'Respiratory Infection Activity 22-23 Season: Week {frame_time}') +
theme_minimal()
gif_a <- animate(gif_a, width = 700, height = 480, renderer ="magick_renderer")
gif_a <- animate(gif_a, width = 700, height = 480, renderer = magick_renderer)
gif_a <- animate(gif_a, width = 700, height = 480, renderer = magick_renderer())
a_mgif <- image_read(gif_a)
gif_a <- animate(gif_a, width = 700, height = 480, renderer = gifski_renderer())
gif_a <- animate(gif_a, width = 700, height = 480, renderer = av_renderer())
